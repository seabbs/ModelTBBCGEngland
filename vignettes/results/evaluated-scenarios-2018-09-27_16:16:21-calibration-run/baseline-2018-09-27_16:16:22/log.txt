Plot historic number of pulmonary cases detected each year:
Saving 7 x 7 in image
Plot number of cases detected each year:
geom_path: Each group consists of only one observation. Do you need to adjust
the group aesthetic?
Saving 7 x 7 in image
geom_path: Each group consists of only one observation. Do you need to adjust
the group aesthetic?
Plot number of cases detected each year, stratified by age group:
Using a minimum of 4 particles based on the number of particles specified.
Using a maximum of 16 particles based on the minimum number of particles times by 4.
Load the model as a compiled libbi object
Sample priors
[1] "Launching LibBi with the following commands:"
[1] "cd /tmp/RtmpukQ3ia/Baseline4b83dfe851c;/usr/local/bin/libbi sample --seed 2113263286 --input-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_input4b812ed9989.nc --noutputs 69 --end-time 69 --nparticles 4 --nthreads 4 --verbose --target prior --nsamples 1000 --output-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_output4b83273b348.nc --model-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_model4b84efba29f.bi "
[2] ""                                                                                                                                                                                                                                                                                                                                                                                                                                  
[1] "... LibBi has finished!"
Summary of prior sampling
Wrapper around LibBi
======================
Model:  Baseline 
Run time:  508.3002  seconds
Number of samples:  1000 
State trajectories recorded:  foi S H L P E T_P T_E YearlyPulCases YearlyEPulCases YearlyPulDeaths YearlyEPulDeaths YearlyPAgeCases YearlyPCases YearlyEAgeCases YearlyECases YearlyAgeCases YearlyCases YearlyNonUKborn 
Observation trajectories recorded:  YearlyHistPInc YearlyInc YearlyAgeInc YearlyChildInc YearlyAdultInc YearlyOlderAdultInc 
Parameters recorded:  M c_eff c_hist beta_child_mod beta_older_adult_mod delta epsilon_h_0_4 epsilon_h_5_14 epsilon_h_15_89 kappa_0_4 kappa_5_14 kappa_15_89 epsilon_l_0_4 epsilon_l_5_14 epsilon_l_15_89 phi_0_14 phi_15_69 phi_70_89 Upsilon_0_14 Upsilon_15_69 Upsilon_70_89 rho_0_14 rho_15_69 rho_70_89 nu_p_0_14 nu_p_15_89 nu_e_0_14 nu_e_15_89 zeta_0_14 zeta_15_69 zeta_70_89 mu_p_0_14 mu_p_15_69 mu_p_70_89 mu_e_0_14 mu_e_15_69 mu_e_70_89 chi_init alpha_t_init alpha_t_decay HistMeasError 
Load priors
Plot priors
Plotting: densities
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
Saving 7 x 7 in image
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
Plotting: traces
Saving 7 x 7 in image
Adapting proposal with a min acceptance of 0.2 and a maximum acceptance of 0.4
Running for 3 iterations with 100 samples each time.
Optimising the deterministic model
[1] "Launching LibBi with the following commands:"
[1] "cd /tmp/RtmpukQ3ia/Baseline4b83dfe851c;/usr/local/bin/libbi optimise --seed 249063766 --input-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_input4b812ed9989.nc --obs-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_obs4b817279cb3.nc --noutputs 69 --end-time 69 --nparticles 4 --nthreads 4 --verbose --stop-steps 50 --output-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_output4b83f212614.nc --model-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_model4b832a016a0.bi "
[2] ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
[1] "... LibBi has finished!"
Taking initial sample to estimate acceptance rate
[1] "Launching LibBi with the following commands:"
[1] "cd /tmp/RtmpukQ3ia/Baseline4b83dfe851c;/usr/local/bin/libbi sample --seed 141318034 --input-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_input4b812ed9989.nc --obs-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_obs4b817279cb3.nc --noutputs 69 --end-time 69 --nparticles 4 --nthreads 4 --verbose --init-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_init4b862c1432b.nc --target posterior --nsamples 100 --output-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_output4b82fdef1ea.nc --model-file /tmp/RtmpukQ3ia/Baseline4b83dfe851c/Baseline_model4b876a5aa0c.bi "
[2] ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
[1] "... LibBi has finished!"
Adapting proposal ...
Thu Sep 27 16:40:14 2018 Adapting the proposal distribution
Thu Sep 27 16:40:14 2018 Acceptance rate: 0.252525252525252
Adapted proposal distribution
 [1] "M ~ truncated_gaussian(mean = M, std = 0.01, lower = 0.5, upper = 1)"                        
 [2] "c_eff ~ truncated_gaussian(mean = c_eff, std = 0.1, lower = 0, upper = 5)"                   
 [3] "c_hist ~ truncated_gaussian(mean = c_hist, std = 0.1, lower = 10, upper = 15)"               
 [4] "beta_child_mod ~ truncated_gaussian(mean = beta_child_mod, std = 0.2, lower = 0)"            
 [5] "beta_older_adult_mod ~ truncated_gaussian(mean = beta_older_adult_mod, std = 0.2, lower = 0)"
 [6] "delta ~ truncated_gaussian(mean = delta, std = 0.02, lower = 0, upper = 1)"                  
 [7] "epsilon_h_0_4 ~ truncated_gaussian(mean = epsilon_h_0_4, std = 0.2, lower = 0)"              
 [8] "epsilon_h_5_14 ~ truncated_gaussian(mean = epsilon_h_5_14, std = 0.2, lower = 0)"            
 [9] "epsilon_h_15_89 ~ truncated_gaussian(mean = epsilon_h_15_89, std = 0.2, lower = 0)"          
[10] "kappa_0_4 ~ truncated_gaussian(mean = kappa_0_4, std = 0.2, lower = 0)"                      
[11] "kappa_5_14 ~ truncated_gaussian(mean = kappa_5_14, std = 0.2, lower = 0)"                    
[12] "kappa_15_89 ~ truncated_gaussian(mean = kappa_15_89, std = 0.2, lower = 0)"                  
[13] "epsilon_l_0_4 ~ truncated_gaussian(mean = epsilon_l_0_4, std = 0.2, lower = 0)"              
[14] "epsilon_l_5_14 ~ truncated_gaussian(mean = epsilon_l_5_14, std = 0.2, lower = 0)"            
[15] "epsilon_l_15_89 ~ truncated_gaussian(mean = epsilon_l_15_89, std = 0.2, lower = 0)"          
[16] "phi_0_14 ~ truncated_gaussian(mean = phi_0_14, std = 0.2, lower = 0)"                        
[17] "phi_15_69 ~ truncated_gaussian(mean = phi_15_69, std = 0.2, lower = 0)"                      
[18] "phi_70_89 ~ truncated_gaussian(mean = phi_70_89, std = 0.2, lower = 0)"                      
[19] "Upsilon_0_14 ~ truncated_gaussian(mean = Upsilon_0_14, std = 0.02, lower = 0, upper = 1)"    
[20] "Upsilon_15_69 ~ truncated_gaussian(mean = Upsilon_15_69, std = 0.02, lower = 0, upper = 1)"  
[21] "Upsilon_70_89 ~ truncated_gaussian(mean = Upsilon_70_89, std = 0.02, lower = 0, upper = 1)"  
[22] "rho_0_14 ~ truncated_gaussian(mean = rho_0_14, std = 0.02, lower = 0, upper = 1)"            
[23] "rho_15_69 ~ truncated_gaussian(mean = rho_15_69, std = 0.02, lower = 0, upper = 1)"          
[24] "rho_70_89 ~ truncated_gaussian(mean = rho_70_89, std = 0.02, lower = 0, upper = 1)"          
[25] "nu_p_0_14 ~ truncated_gaussian(mean = nu_p_0_14, std = 0.2, lower = 0)"                      
[26] "nu_p_15_89 ~ truncated_gaussian(mean = nu_p_15_89, std = 0.2, lower = 0)"                    
[27] "nu_e_0_14 ~ truncated_gaussian(mean = nu_e_0_14, std = 0.2, lower = 0)"                      
[28] "nu_e_15_89 ~ truncated_gaussian(mean = nu_e_15_89, std = 0.2, lower = 0)"                    
[29] "zeta_0_14 ~ truncated_gaussian(mean = zeta_0_14, std = 0.2, lower = 0)"                      
[30] "zeta_15_69 ~ truncated_gaussian(mean = zeta_15_69, std = 0.2, lower = 0)"                    
[31] "zeta_70_89 ~ truncated_gaussian(mean = zeta_70_89, std = 0.2, lower = 0)"                    
[32] "mu_p_0_14 ~ truncated_gaussian(mean = mu_p_0_14, std = 0.2, lower = 0)"                      
[33] "mu_p_15_69 ~ truncated_gaussian(mean = mu_p_15_69, std = 0.2, lower = 0)"                    
[34] "mu_p_70_89 ~ truncated_gaussian(mean = mu_p_70_89, std = 0.2, lower = 0)"                    
[35] "mu_e_0_14 ~ truncated_gaussian(mean = mu_e_0_14, std = 0.2, lower = 0)"                      
[36] "mu_e_15_69 ~ truncated_gaussian(mean = mu_e_15_69, std = 0.2, lower = 0)"                    
[37] "mu_e_70_89 ~ truncated_gaussian(mean = mu_e_70_89, std = 0.2, lower = 0)"                    
[38] "chi_init ~ truncated_gaussian(mean = chi_init, std = 0.02, lower = 0, upper = 1)"            
[39] "alpha_t_init ~ gaussian(mean = alpha_t_init, std = 0.2)"                                     
[40] "alpha_t_decay ~ gaussian(mean = alpha_t_decay, std = 0.2)"                                   
[41] "HistMeasError ~ truncated_gaussian(mean = HistMeasError, std = 0.2, lower = 0)"              
[1] NA
Acceptance rate of 0.252525252525252 after adapting the proposal
Using 1 rejuvernation moves in order to target at least a20 % acceptence rate for each rejuvernation sample.
Creating model report


processing file: model_report.Rmd
  |                                                                         |                                                                 |   0%  |                                                                         |..                                                               |   3%
   inline R code fragments

  |                                                                         |....                                                             |   7%
label: setup (with options) 
List of 1
 $ include: logi FALSE

  |                                                                         |......                                                           |  10%
  ordinary text without R code

  |                                                                         |.........                                                        |  13%
label: packages (with options) 
List of 1
 $ include: logi FALSE

  |                                                                         |...........                                                      |  17%
  ordinary text without R code

  |                                                                         |.............                                                    |  20%
label: load-model
  |                                                                         |...............                                                  |  23%
  ordinary text without R code

  |                                                                         |.................                                                |  27%
label: unnamed-chunk-1
  |                                                                         |....................                                             |  30%
  ordinary text without R code

  |                                                                         |......................                                           |  33%
label: posterior-traces (with options) 
List of 2
 $ fig.width : num 16
 $ fig.height: num 16

  |                                                                         |........................                                         |  37%
  ordinary text without R code

  |                                                                         |..........................                                       |  40%
label: prior-posterior-overview (with options) 
List of 2
 $ fig.height: num 16
 $ fig.width : num 16

  |                                                                         |............................                                     |  43%
  ordinary text without R code

  |                                                                         |..............................                                   |  47%
label: param-overview (with options) 
List of 2
 $ fig.height: num 16
 $ fig.width : num 16

  |                                                                         |................................                                 |  50%
  ordinary text without R code

  |                                                                         |...................................                              |  53%
label: overview-states (with options) 
List of 2
 $ fig.height: num 16
 $ fig.width : num 16

  |                                                                         |.....................................                            |  57%
  ordinary text without R code

  |                                                                         |.......................................                          |  60%
label: overview-states-1990 (with options) 
List of 2
 $ fig.height: num 16
 $ fig.width : num 16

  |                                                                         |.........................................                        |  63%
  ordinary text without R code

  |                                                                         |...........................................                      |  67%
label: overview-states-1980-obs
Quitting from lines 109-112 (model_report.Rmd) 

